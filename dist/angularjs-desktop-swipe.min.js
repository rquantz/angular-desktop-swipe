/* angularjs-desktop-swipe by Rick Quantz 2014-07-10 */
angular.module("desktopSwipe.services",[]),angular.module("desktopSwipe",["desktopSwipe.services"]),angular.module("desktopSwipe.services").factory("dkSwipeObserver",function(){function a(a){var b=0,c=0;if(a.length>0){for(var d=0;d<a.length;d++)b+=a[d];c=b/a.length}return c}var b={sample:20,diffThreshold:6},c=function(){return{prev:[],curr:[],locked:!1}},d=function(){return{capture:function(a,b){a.deltaY<0?this._capture(this._up,a,b)&&this._swipeup():a.deltaY>0&&this._capture(this._down,a,b)&&this._swipedown()},swipeup:function(a){this._swipeup=a},swipedown:function(a){this._swipedown=a},_capture:function(c,d,e){var f,g=!1;return c.curr.push(Math.abs(e)),c.curr.length>b.sample&&c.prev.push(c.curr.shift()),c.prev.length>b.sample&&c.prev.shift(),f=a(c.curr)-a(c.prev),f>b.diffThreshold&&!c.locked?(g=!0,c.locked=!0):0>f&&(c.locked=!1),g},_swipeup:function(){},_swipedown:function(){},_up:new c,_down:new c}};return{get:function(){return new d}}}),angular.module("desktopSwipe").directive("dkSwipeup",["$parse","dkSwipeObserver",function(a,b){return{compile:function(c,d){var e=a(d.dkSwipeup),f=b.get();return function(a,b){f.swipeup(function(){b.trigger("dk.swipeup")}),b.on("mousewheel",function(a,b){return f.capture(a,b),!1}),b.on("dk.swipeup",function(){a.$apply(function(){e(a)})})}}}}]),angular.module("desktopSwipe").directive("dkSwipedown",["$parse","dkSwipeObserver",function(a,b){return{compile:function(c,d){var e=a(d.dkSwipedown),f=b.get();return function(a,b){f.swipedown(function(){b.trigger("dk.swipedown")}),b.on("mousewheel",function(a,b){return f.capture(a,b),!1}),b.on("dk.swipedown",function(){a.$apply(function(){e(a)})})}}}}]);